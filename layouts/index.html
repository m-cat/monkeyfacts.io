<!DOCTYPE html>
<html>
	{{ partial "header.html" . }}
	<body>
		<div class="content">
			{{ partial "head.html" . }}

			{{ $pages := where (.Site.RegularPages.ByParam "number").Reverse "Type" "in" .Site.Params.mainSections }}

			<main class="list">
				<div class="site-description">
					{{- if isset .Site.Params "subtitle" -}}
					<p><b>{{ len $pages }} facts</b> and counting!</p>
					{{- end -}}
				</div>

                <ul class="posts">
				    {{ $paginator := .Paginate (where $pages "Params.hidden" "ne" true) }}
				    {{ range $paginator.Pages }}
		            {{ partial "post-link.html" . }}
				    {{ end }}
                </ul>

                <br>

				{{ template "partials/paginator.html" . }}
			</main>

			{{ partial "footer.html" . }}
		</div>
	</body>
</html>
